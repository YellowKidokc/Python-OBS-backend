# Definition 2.0 - Research-Grade Definition Management ğŸš€

> **Massively upgraded definition system with external source acquisition, provenance tracking, drift detection, and equation mapping.**

---

## ğŸ¯ What's New in 2.0

### âœ¨ Core Features

1. **Mass Processing** - Process 700+ definitions in 15-20 minutes
2. **External Sources** - Auto-fetch from SEP, arXiv, IEP, PhilPapers, Wikipedia
3. **Provenance Tracking** - Every auto-generated block is clearly marked
4. **Drift Detection** - Find where terms are used inconsistently
5. **Equation Mapping** - Track which equations use which variables
6. **AI Integration** - Optional AI-powered verification
7. **Multi-threaded** - Uses all CPU cores for maximum speed
8. **Correctness-First** - Only includes data with â‰¥90% confidence

---

## ğŸ“¦ What You Get

```
theophysics_manager/
â”œâ”€â”€ engine/
â”‚   â”œâ”€â”€ definition_processor_v2.py      # Main processor
â”‚   â”œâ”€â”€ enhanced_definition_engine.py   # Indexing & drift detection
â”‚   â”œâ”€â”€ knowledge_acquisition_engine.py # External sources
â”‚   â””â”€â”€ structure_engine.py             # Note generation
â”œâ”€â”€ ui/tabs/
â”‚   â””â”€â”€ definitions_v2_tab.py           # GUI interface
â”œâ”€â”€ prompts/
â”‚   â””â”€â”€ definition_copilot_prompt.md    # AI copilot prompt
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ definition_template.md          # 10-section template
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ DEFINITION_V2_GUIDE.md          # Complete guide
â””â”€â”€ examples/
    â””â”€â”€ process_definitions_example.py  # Usage examples
```

---

## ğŸš€ Quick Start

### Option 1: GUI (Easiest)

1. Open Theophysics Manager
2. Go to **Definitions V2** tab
3. Click **ğŸš€ Start Processing**
4. Wait 15-20 minutes
5. Click **ğŸ“Š View Report**

### Option 2: Command Line

```bash
cd theophysics_manager
python -m engine.definition_processor_v2 "path/to/vault" --workers 8
```

### Option 3: Python Script

```python
from pathlib import Path
from engine.definition_processor_v2 import DefinitionProcessorV2

processor = DefinitionProcessorV2(
    vault_path=Path("vault"),
    max_workers=8
)

stats = processor.process_all_definitions()
print(f"Processed {stats['success']} definitions!")
```

---

## ğŸ“‹ The 10-Section Standard

Every definition has:

1. **Canonical Definition** - One precise sentence
2. **Axioms** - Ontological, mathematical, conservation
3. **Mathematical Structure** - Equations, dynamics, thresholds
4. **Domain Interpretations** - Physics, info theory, psych, sociology, theology
5. **Operationalization** - How to measure
6. **Failure Modes** - What "broken" looks like
7. **Integration Map** - Where it appears (auto-generated)
8. **Usage Drift Log** - Inconsistencies (auto-generated)
9. **External Comparison** - Literature comparison (auto-generated)
10. **Notes & Examples** - Analogies, diagrams, questions

---

## ğŸ” Provenance Example

All auto-generated content is clearly marked:

```markdown
> [AUTOGENERATED â€” SOURCE: EXTERNAL]  
> Source: Stanford Encyclopedia of Philosophy  
> Confidence: 0.95  
> Retrieved: 2025-12-12  
> Do not treat as canonical until reviewed by human author.

In physics, coherence refers to the correlation between 
physical quantities of a single wave, or between several waves...
```

---

## ğŸ“Š What Gets Generated

After processing, you'll have:

```
vault/
â”œâ”€â”€ Definitions_v2/
â”‚   â”œâ”€â”€ def-coherence.md              # Generated notes
â”‚   â”œâ”€â”€ def-grace.md
â”‚   â”œâ”€â”€ def-logos-field.md
â”‚   â”œâ”€â”€ ...
â”‚   â”œâ”€â”€ processing_summary.md         # Human-readable report
â”‚   â”œâ”€â”€ provenance_log.json           # Complete provenance
â”‚   â””â”€â”€ external_sources/             # Downloaded content
â”‚       â”œâ”€â”€ sep/
â”‚       â”œâ”€â”€ arxiv/
â”‚       â””â”€â”€ wikipedia/
â””â”€â”€ .theophysics/
    â”œâ”€â”€ definition_index.json         # Vault index
    â””â”€â”€ drift_log.json                # Drift report
```

---

## ğŸ“ External Source Priority

Sources are checked in order of quality:

1. **Stanford Encyclopedia of Philosophy** (SEP) - Highest priority
2. **arXiv** - Cutting-edge physics/math
3. **Internet Encyclopedia of Philosophy** (IEP)
4. **PhilPapers** - Philosophy database
5. **Scholarpedia** - Peer-reviewed
6. **Wikipedia** - Fallback only

---

## ğŸ”§ Installation

### Install Additional Dependencies

```bash
pip install -r requirements_v2.txt
```

This adds:
- `beautifulsoup4` - Web scraping
- `markdownify` - HTML to Markdown
- `PyMuPDF` - PDF processing (optional)
- `requests` - HTTP requests

---

## ğŸ“– Documentation

- **Complete Guide:** [`docs/DEFINITION_V2_GUIDE.md`](docs/DEFINITION_V2_GUIDE.md)
- **Examples:** [`examples/process_definitions_example.py`](examples/process_definitions_example.py)
- **AI Copilot Prompt:** [`prompts/definition_copilot_prompt.md`](prompts/definition_copilot_prompt.md)

---

## ğŸ¤– AI Copilot Usage

For Obsidian plugins (Copilot, Smart Connections, etc.):

1. Load the prompt from `prompts/definition_copilot_prompt.md`
2. Open any definition note
3. Run the copilot
4. Get instant verification:
   - âœ… Consistency check
   - âœ… Mathematical verification
   - âœ… Cross-domain alignment
   - âœ… External comparison
   - âœ… Drift detection

---

## âš¡ Performance

**Benchmarks** (700 definitions, 8 workers):
- Indexing: ~30 seconds
- External fetching: ~10-15 minutes
- Drift detection: ~2 minutes
- **Total: ~15-20 minutes**

**Scales to 10,000+ definitions** with 16-32 workers.

---

## ğŸ›¡ï¸ Safety Features

1. **Non-destructive** - Original files never modified
2. **Provenance tracking** - Always know what's auto-generated
3. **Confidence thresholds** - Only includes high-certainty data (â‰¥90%)
4. **Manual review required** - Auto-generated content must be reviewed
5. **Version control friendly** - All outputs are text files

---

## ğŸ¯ Use Cases

### For Research
- Ensure mathematical consistency across 100+ papers
- Track how terms evolve over time
- Compare your definitions to literature
- Find contradictions before publication

### For Writing
- Auto-generate glossaries
- Ensure consistent terminology
- Link terms to equations
- Provide external references

### For Learning
- Understand how concepts relate
- See where terms appear in papers
- Compare multiple interpretations
- Track domain-specific meanings

---

## ğŸ”„ Workflow

```
1. Write definitions in Obsidian
   â†“
2. Run Definition 2.0 processor
   â†“
3. Review generated reports
   â†“
4. Check drift log for inconsistencies
   â†“
5. Review external comparisons
   â†“
6. Manually integrate high-value content
   â†“
7. Update canonical definitions
   â†“
8. Re-run to verify consistency
```

---

## ğŸ› Troubleshooting

### "No definitions found"
- Add `type: definition` to frontmatter

### "External sources failing"
- Check internet connection
- Wait for rate limits (1-2 minutes)
- Wikipedia always works as fallback

### "Processing is slow"
- Reduce workers if system overloaded
- Disable external downloads
- Process in batches

### "High memory usage"
- Normal for 700+ definitions
- Reduce workers if needed
- Expect 1-2 GB RAM usage

---

## ğŸ“ Example Definition Note

```markdown
---
type: definition
id: def-coherence
symbol: C
name: Coherence
status: canonical
---

# C â€” Coherence

## 1. Canonical Definition

> **Coherence is the degree of correlation between components 
> of a system, inversely proportional to entropy.**

## 2. Axioms

### 2.1 Ontological
- **Axiom C1:** Coherence exists as a measurable property of systems

### 2.2 Mathematical
- **Axiom C2:** $0 \leq C \leq 1$ (bounded)

## 3. Mathematical Structure

$$
C = 1 - \frac{S_{\text{obs}}}{S_{\max}}
$$

## 7. Integration Map (Auto-generated)

| Eq ID | File | Variables |
|-------|------|-----------|
| eq-master-01 | [[Master-Equation]] | C, G, Î“ |
| eq-collapse-03 | [[Coherence-Collapse]] | C, t |

## 8. Usage Drift Log (Auto-generated)

| Date | File | Context | Deviation |
|------|------|---------|-----------|
| 2025-12-10 | [[Paper-03]] | "cultural coherence" | Compatible expansion |

## 9. External Comparison (Auto-generated)

> [AUTOGENERATED â€” SOURCE: EXTERNAL]  
> Source: Wikipedia  
> Confidence: 0.92

In physics, coherence describes the correlation between 
physical quantities of waves...
```

---

## ğŸ¤ Contributing

Found a bug? Have a feature request?

1. Check existing issues
2. Create a new issue with details
3. Or submit a pull request

---

## ğŸ“„ License

MIT License - See LICENSE file

---

## ğŸ™ Credits

Built for the **Theophysics Research Initiative**

Integrates:
- Obsidian knowledge management
- Python AI processing
- Multi-database architecture
- Semantic classification systems

---

## ğŸ”— Links

- **Main README:** [`README.md`](README.md)
- **Full Features:** [`docs/FULL_FEATURES.md`](docs/FULL_FEATURES.md)
- **Installation:** [`docs/INSTALLATION.md`](docs/INSTALLATION.md)
- **Quick Start:** [`docs/QUICKSTART.md`](docs/QUICKSTART.md)

---

**Version:** 2.0  
**Last Updated:** December 2025  
**Status:** Production Ready âœ…
